[2025-03-18 11:40:02.566 +04:00] [WRN] Entity 'Incident' has a global query filter defined and is the required end of a relationship with the entity 'Report'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 11:40:02.593 +04:00] [WRN] Entity 'Crime' has a global query filter defined and is the required end of a relationship with the entity 'PrisonerCrime'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 11:40:02.594 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Punishment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 11:40:02.594 +04:00] [WRN] Entity 'Prison' has a global query filter defined and is the required end of a relationship with the entity 'Staff'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 11:40:02.594 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Visit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 11:40:02.832 +04:00] [WRN] Entity 'Incident' has a global query filter defined and is the required end of a relationship with the entity 'Report'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 11:40:02.832 +04:00] [WRN] Entity 'Crime' has a global query filter defined and is the required end of a relationship with the entity 'PrisonerCrime'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 11:40:02.832 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Punishment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 11:40:02.832 +04:00] [WRN] Entity 'Prison' has a global query filter defined and is the required end of a relationship with the entity 'Staff'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 11:40:02.832 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Visit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 11:40:24.786 +04:00] [WRN] Entity 'Incident' has a global query filter defined and is the required end of a relationship with the entity 'Report'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 11:40:24.811 +04:00] [WRN] Entity 'Crime' has a global query filter defined and is the required end of a relationship with the entity 'PrisonerCrime'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 11:40:24.811 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Punishment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 11:40:24.811 +04:00] [WRN] Entity 'Prison' has a global query filter defined and is the required end of a relationship with the entity 'Staff'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 11:40:24.811 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Visit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 11:42:34.270 +04:00] [WRN] Entity 'Incident' has a global query filter defined and is the required end of a relationship with the entity 'Report'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 11:42:34.422 +04:00] [WRN] Entity 'Crime' has a global query filter defined and is the required end of a relationship with the entity 'PrisonerCrime'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 11:42:34.429 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Punishment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 11:42:34.432 +04:00] [WRN] Entity 'Prison' has a global query filter defined and is the required end of a relationship with the entity 'Staff'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 11:42:34.434 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Visit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 11:42:36.460 +04:00] [INF] HTTP GET /Role/GetAllRoles/getall responded 200 in 13208.2348 ms 
[2025-03-18 11:42:58.238 +04:00] [INF] HTTP GET /Staff/GetAllActiveStaff/GetAllActive responded 200 in 1469.6518 ms 
[2025-03-18 11:43:13.396 +04:00] [INF] HTTP GET /Staff/GetStaffById/GetById/f8e81dad-7941-4253-b1c6-08dd64941e7d responded 401 in 40.2738 ms 
[2025-03-18 11:43:43.811 +04:00] [INF] HTTP GET /User/GetAllUsers/all responded 200 in 191.1375 ms 
[2025-03-18 11:44:16.774 +04:00] [INF] HTTP GET /Role/GetRolesToUser/getroles/f25a2058-6dd2-4b11-bcbd-cabffe9b5df1 responded 200 in 406.1137 ms 
[2025-03-18 11:45:07.771 +04:00] [INF] HTTP GET /Staff/GetStaffById/GetById/e65f3e04-d213-40bd-a0fc-047027c5d4a9 responded 401 in 37.4187 ms 
[2025-03-18 11:45:18.325 +04:00] [INF] HTTP GET /Role/GetRolesToUser/getroles/e65f3e04-d213-40bd-a0fc-047027c5d4a9 responded 200 in 56.0945 ms 
[2025-03-18 11:45:45.603 +04:00] [INF] HTTP POST /Auth/Login/login responded 400 in 148.9470 ms 
[2025-03-18 11:45:59.980 +04:00] [INF] HTTP POST /Auth/Login/login responded 400 in 22.6600 ms 
[2025-03-18 11:46:00.888 +04:00] [INF] HTTP POST /Auth/Login/login responded 400 in 25.6952 ms 
[2025-03-18 11:46:10.499 +04:00] [INF] HTTP POST /Auth/Login/login responded 400 in 31.0145 ms 
[2025-03-18 11:47:24.024 +04:00] [INF] HTTP GET /Role/GetRolesToUser/getroles/f25a2058-6dd2-4b11-bcbd-cabffe9b5df1 responded 200 in 48.8042 ms 
[2025-03-18 11:47:42.453 +04:00] [INF] HTTP POST /User/AssignRolesToUser/f25a2058-6dd2-4b11-bcbd-cabffe9b5df1/assign-roles responded 200 in 861.5145 ms 
[2025-03-18 11:47:53.813 +04:00] [INF] HTTP GET /Role/GetRolesToUser/getroles/f25a2058-6dd2-4b11-bcbd-cabffe9b5df1 responded 200 in 25.0821 ms 
[2025-03-18 11:48:13.005 +04:00] [INF] HTTP POST /Auth/Login/login responded 400 in 21.6245 ms 
[2025-03-18 11:48:18.307 +04:00] [INF] HTTP POST /Auth/Login/login responded 400 in 11.7991 ms 
[2025-03-18 11:48:34.767 +04:00] [INF] HTTP POST /Auth/Login/login responded 400 in 18.9315 ms 
[2025-03-18 11:49:13.307 +04:00] [INF] HTTP POST /User/CreateUser/create responded 400 in 208.8254 ms 
[2025-03-18 11:49:41.597 +04:00] [INF] HTTP POST /User/CreateUser/create responded 200 in 3125.1372 ms 
[2025-03-18 11:49:50.769 +04:00] [INF] HTTP GET /User/GetAllUsers/all responded 200 in 7.9476 ms 
[2025-03-18 11:50:15.656 +04:00] [INF] HTTP POST /User/AssignRolesToUser/98873487-86e9-4e8b-ae30-92fffaf60655/assign-roles responded 200 in 81.7051 ms 
[2025-03-18 11:50:25.635 +04:00] [INF] HTTP GET /Role/GetRolesToUser/getroles/98873487-86e9-4e8b-ae30-92fffaf60655 responded 200 in 20.0665 ms 
[2025-03-18 11:50:37.378 +04:00] [INF] HTTP POST /Auth/Login/login responded 400 in 39.3209 ms 
[2025-03-18 11:51:07.310 +04:00] [ERR] An unhandled exception has occurred while executing the request. 
System.ArgumentNullException: String reference not set to an instance of a String. (Parameter 's')
   at System.Text.Encoding.GetBytes(String s)
   at System.Text.UTF8Encoding.UTF8EncodingSealed.GetBytes(String s)
   at PrisonManagementSystem.BL.Services.Implementations.Identity.TokenService.CreateAccessToken(User user) in C:\Users\user\source\repos\FinalProject\PrisonManagementSystem\PrisonManagementSystem.BL\Services\Implementations\Identity\TokenService.cs:line 48
   at PrisonManagementSystem.BL.Services.Implementations.Identity.AuthService.LoginAsync(String userNameOrEmail, String password) in C:\Users\user\source\repos\FinalProject\PrisonManagementSystem\PrisonManagementSystem.BL\Services\Implementations\Identity\AuthService .cs:line 78
   at PrisonManagementSystem.API.Controllers.Identitiy.AuthController.LoginAsync(String userNameOrEmail, String password) in C:\Users\user\source\repos\FinalProject\PrisonManagementSystem\PrisonManagementSystem\Controllers\Identitiy\AuthController.cs:line 23
   at lambda_method258(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
[2025-03-18 11:51:07.542 +04:00] [ERR] Error: String reference not set to an instance of a String. (Parameter 's') | Path: /Auth/Login/login 
[2025-03-18 11:51:07.563 +04:00] [INF] HTTP POST /Auth/Login/login responded 400 in 590.5898 ms 
[2025-03-18 11:53:00.972 +04:00] [WRN] Entity 'Incident' has a global query filter defined and is the required end of a relationship with the entity 'Report'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 11:53:01.107 +04:00] [WRN] Entity 'Crime' has a global query filter defined and is the required end of a relationship with the entity 'PrisonerCrime'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 11:53:01.111 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Punishment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 11:53:01.115 +04:00] [WRN] Entity 'Prison' has a global query filter defined and is the required end of a relationship with the entity 'Staff'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 11:53:01.117 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Visit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 11:54:55.026 +04:00] [WRN] Entity 'Incident' has a global query filter defined and is the required end of a relationship with the entity 'Report'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 11:54:55.177 +04:00] [WRN] Entity 'Crime' has a global query filter defined and is the required end of a relationship with the entity 'PrisonerCrime'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 11:54:55.182 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Punishment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 11:54:55.185 +04:00] [WRN] Entity 'Prison' has a global query filter defined and is the required end of a relationship with the entity 'Staff'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 11:54:55.189 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Visit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 11:55:20.019 +04:00] [ERR] An unhandled exception has occurred while executing the request. 
System.ArgumentNullException: String reference not set to an instance of a String. (Parameter 's')
   at System.Text.Encoding.GetBytes(String s)
   at System.Text.UTF8Encoding.UTF8EncodingSealed.GetBytes(String s)
   at PrisonManagementSystem.BL.Services.Implementations.Identity.TokenService.CreateAccessToken(User user) in C:\Users\user\source\repos\FinalProject\PrisonManagementSystem\PrisonManagementSystem.BL\Services\Implementations\Identity\TokenService.cs:line 48
   at PrisonManagementSystem.BL.Services.Implementations.Identity.AuthService.LoginAsync(String userNameOrEmail, String password) in C:\Users\user\source\repos\FinalProject\PrisonManagementSystem\PrisonManagementSystem.BL\Services\Implementations\Identity\AuthService .cs:line 78
   at PrisonManagementSystem.API.Controllers.Identitiy.AuthController.LoginAsync(String userNameOrEmail, String password) in C:\Users\user\source\repos\FinalProject\PrisonManagementSystem\PrisonManagementSystem\Controllers\Identitiy\AuthController.cs:line 23
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
[2025-03-18 11:55:20.180 +04:00] [ERR] Error: String reference not set to an instance of a String. (Parameter 's') | Path: /Auth/Login/login 
[2025-03-18 11:55:20.202 +04:00] [INF] HTTP POST /Auth/Login/login responded 400 in 28801.7879 ms 
[2025-03-18 12:00:32.044 +04:00] [ERR] An unhandled exception has occurred while executing the request. 
System.ArgumentNullException: String reference not set to an instance of a String. (Parameter 's')
   at System.Text.Encoding.GetBytes(String s)
   at System.Text.UTF8Encoding.UTF8EncodingSealed.GetBytes(String s)
   at PrisonManagementSystem.BL.Services.Implementations.Identity.TokenService.CreateAccessToken(User user) in C:\Users\user\source\repos\FinalProject\PrisonManagementSystem\PrisonManagementSystem.BL\Services\Implementations\Identity\TokenService.cs:line 48
   at PrisonManagementSystem.BL.Services.Implementations.Identity.AuthService.LoginAsync(String userNameOrEmail, String password) in C:\Users\user\source\repos\FinalProject\PrisonManagementSystem\PrisonManagementSystem.BL\Services\Implementations\Identity\AuthService .cs:line 78
   at PrisonManagementSystem.API.Controllers.Identitiy.AuthController.LoginAsync(String userNameOrEmail, String password) in C:\Users\user\source\repos\FinalProject\PrisonManagementSystem\PrisonManagementSystem\Controllers\Identitiy\AuthController.cs:line 23
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
[2025-03-18 12:00:32.070 +04:00] [ERR] Error: String reference not set to an instance of a String. (Parameter 's') | Path: /Auth/Login/login 
[2025-03-18 12:00:32.074 +04:00] [INF] HTTP POST /Auth/Login/login responded 400 in 43427.5786 ms 
[2025-03-18 12:08:00.431 +04:00] [WRN] Entity 'Incident' has a global query filter defined and is the required end of a relationship with the entity 'Report'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 12:08:00.589 +04:00] [WRN] Entity 'Crime' has a global query filter defined and is the required end of a relationship with the entity 'PrisonerCrime'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 12:08:00.596 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Punishment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 12:08:00.602 +04:00] [WRN] Entity 'Prison' has a global query filter defined and is the required end of a relationship with the entity 'Staff'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 12:08:00.604 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Visit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 12:08:26.601 +04:00] [ERR] An unhandled exception has occurred while executing the request. 
System.ArgumentNullException: String reference not set to an instance of a String. (Parameter 's')
   at System.Text.Encoding.GetBytes(String s)
   at System.Text.UTF8Encoding.UTF8EncodingSealed.GetBytes(String s)
   at PrisonManagementSystem.BL.Services.Implementations.Identity.TokenService.CreateAccessToken(User user) in C:\Users\user\source\repos\FinalProject\PrisonManagementSystem\PrisonManagementSystem.BL\Services\Implementations\Identity\TokenService.cs:line 48
   at PrisonManagementSystem.BL.Services.Implementations.Identity.AuthService.LoginAsync(String userNameOrEmail, String password) in C:\Users\user\source\repos\FinalProject\PrisonManagementSystem\PrisonManagementSystem.BL\Services\Implementations\Identity\AuthService .cs:line 79
   at PrisonManagementSystem.API.Controllers.Identitiy.AuthController.LoginAsync(String userNameOrEmail, String password) in C:\Users\user\source\repos\FinalProject\PrisonManagementSystem\PrisonManagementSystem\Controllers\Identitiy\AuthController.cs:line 23
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
[2025-03-18 12:08:26.788 +04:00] [ERR] Error: String reference not set to an instance of a String. (Parameter 's') | Path: /Auth/Login/login 
[2025-03-18 12:08:26.811 +04:00] [INF] HTTP POST /Auth/Login/login responded 400 in 29878.6849 ms 
[2025-03-18 12:12:14.467 +04:00] [WRN] Entity 'Incident' has a global query filter defined and is the required end of a relationship with the entity 'Report'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 12:12:14.603 +04:00] [WRN] Entity 'Crime' has a global query filter defined and is the required end of a relationship with the entity 'PrisonerCrime'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 12:12:14.607 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Punishment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 12:12:14.610 +04:00] [WRN] Entity 'Prison' has a global query filter defined and is the required end of a relationship with the entity 'Staff'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 12:12:14.614 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Visit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 12:12:47.684 +04:00] [INF] HTTP POST /Auth/Login/login responded 200 in 36499.2640 ms 
[2025-03-18 12:13:24.835 +04:00] [INF] HTTP GET /Staff/GetAllActiveStaff/GetAllActive responded 200 in 1595.4690 ms 
[2025-03-18 12:13:37.655 +04:00] [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
[2025-03-18 12:13:37.729 +04:00] [INF] HTTP GET /Staff/GetStaffById/GetById/f8e81dad-7941-4253-b1c6-08dd64941e7d responded 200 in 189.5864 ms 
[2025-03-18 14:50:55.523 +04:00] [WRN] Entity 'Incident' has a global query filter defined and is the required end of a relationship with the entity 'Report'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 14:50:55.684 +04:00] [WRN] Entity 'Crime' has a global query filter defined and is the required end of a relationship with the entity 'PrisonerCrime'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 14:50:55.689 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Punishment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 14:50:55.691 +04:00] [WRN] Entity 'Prison' has a global query filter defined and is the required end of a relationship with the entity 'Staff'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 14:50:55.693 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Visit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 14:50:57.650 +04:00] [INF] HTTP GET /Role/GetAllRoles/getall responded 200 in 18532.9012 ms 
[2025-03-18 14:51:12.740 +04:00] [INF] HTTP GET /Staff/GetAllActiveStaff/GetAllActive responded 200 in 1324.5920 ms 
[2025-03-18 14:52:27.710 +04:00] [INF] HTTP GET /Staff/GetAllActiveStaff/GetAllActive responded 401 in 307.5460 ms 
[2025-03-18 14:52:42.309 +04:00] [WRN] Entity 'Incident' has a global query filter defined and is the required end of a relationship with the entity 'Report'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 14:52:42.314 +04:00] [WRN] Entity 'Crime' has a global query filter defined and is the required end of a relationship with the entity 'PrisonerCrime'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 14:52:42.316 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Punishment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 14:52:42.319 +04:00] [WRN] Entity 'Prison' has a global query filter defined and is the required end of a relationship with the entity 'Staff'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 14:52:42.328 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Visit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 14:52:54.109 +04:00] [INF] HTTP POST /Auth/Login/login responded 200 in 15271.1786 ms 
[2025-03-18 14:53:15.466 +04:00] [INF] HTTP GET /Staff/GetAllActiveStaff/GetAllActive responded 200 in 1373.1592 ms 
[2025-03-18 14:54:27.680 +04:00] [WRN] Entity 'Incident' has a global query filter defined and is the required end of a relationship with the entity 'Report'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 14:54:27.835 +04:00] [WRN] Entity 'Crime' has a global query filter defined and is the required end of a relationship with the entity 'PrisonerCrime'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 14:54:27.844 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Punishment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 14:54:27.846 +04:00] [WRN] Entity 'Prison' has a global query filter defined and is the required end of a relationship with the entity 'Staff'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 14:54:27.860 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Visit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 14:54:40.602 +04:00] [INF] HTTP POST /Auth/Login/login responded 200 in 17490.9740 ms 
[2025-03-18 14:55:06.133 +04:00] [INF] HTTP GET /Staff/GetAllActiveStaff/GetAllActive responded 403 in 267.7621 ms 
[2025-03-18 14:56:23.279 +04:00] [INF] HTTP POST /Auth/Login/login responded 200 in 9741.6603 ms 
[2025-03-18 14:56:43.318 +04:00] [INF] HTTP GET /Staff/GetAllActiveStaff/GetAllActive responded 401 in 38.6953 ms 
[2025-03-18 14:56:44.640 +04:00] [INF] HTTP GET /Staff/GetAllActiveStaff/GetAllActive responded 401 in 8.4036 ms 
[2025-03-18 14:56:58.064 +04:00] [INF] HTTP POST /Auth/Login/login responded 200 in 6587.7329 ms 
[2025-03-18 14:57:28.768 +04:00] [INF] HTTP GET /Staff/GetAllActiveStaff/GetAllActive responded 200 in 1147.4226 ms 
[2025-03-18 14:58:02.213 +04:00] [ERR] An unhandled exception has occurred while executing the request. 
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX12741: JWT must have three segments (JWS) or five segments (JWE).
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at PrisonManagementSystem.BL.Services.Implementations.Identity.TokenService.GetPrincipalFromExpiredToken(String token) in C:\Users\user\source\repos\FinalProject\PrisonManagementSystem\PrisonManagementSystem.BL\Services\Implementations\Identity\TokenService.cs:line 101
   at PrisonManagementSystem.BL.Services.Implementations.Identity.AuthService.LoginWithRefreshTokenAsync(String refreshToken) in C:\Users\user\source\repos\FinalProject\PrisonManagementSystem\PrisonManagementSystem.BL\Services\Implementations\Identity\AuthService .cs:line 150
   at PrisonManagementSystem.API.Controllers.Identitiy.AuthController.LoginWithRefreshTokenAsync(String refreshToken) in C:\Users\user\source\repos\FinalProject\PrisonManagementSystem\PrisonManagementSystem\Controllers\Identitiy\AuthController.cs:line 32
   at lambda_method192(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
[2025-03-18 14:58:02.423 +04:00] [ERR] Error: IDX12741: JWT must have three segments (JWS) or five segments (JWE). | Path: /Auth/LoginWithRefreshToken/login-refresh 
[2025-03-18 14:58:02.438 +04:00] [INF] HTTP POST /Auth/LoginWithRefreshToken/login-refresh responded 400 in 412.0200 ms 
[2025-03-18 15:09:25.987 +04:00] [WRN] Entity 'Incident' has a global query filter defined and is the required end of a relationship with the entity 'Report'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 15:09:26.131 +04:00] [WRN] Entity 'Crime' has a global query filter defined and is the required end of a relationship with the entity 'PrisonerCrime'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 15:09:26.134 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Punishment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 15:09:26.136 +04:00] [WRN] Entity 'Prison' has a global query filter defined and is the required end of a relationship with the entity 'Staff'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 15:09:26.137 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Visit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 15:09:44.741 +04:00] [INF] HTTP POST /Auth/Login/login responded 200 in 22350.6472 ms 
[2025-03-18 15:10:47.825 +04:00] [ERR] An unhandled exception has occurred while executing the request. 
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX12741: JWT must have three segments (JWS) or five segments (JWE).
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at PrisonManagementSystem.BL.Services.Implementations.Identity.TokenService.GetPrincipalFromExpiredToken(String token) in C:\Users\user\source\repos\FinalProject\PrisonManagementSystem\PrisonManagementSystem.BL\Services\Implementations\Identity\TokenService.cs:line 101
   at PrisonManagementSystem.BL.Services.Implementations.Identity.AuthService.LoginWithRefreshTokenAsync(String refreshToken) in C:\Users\user\source\repos\FinalProject\PrisonManagementSystem\PrisonManagementSystem.BL\Services\Implementations\Identity\AuthService .cs:line 150
   at PrisonManagementSystem.API.Controllers.Identitiy.AuthController.LoginWithRefreshTokenAsync(String refreshToken) in C:\Users\user\source\repos\FinalProject\PrisonManagementSystem\PrisonManagementSystem\Controllers\Identitiy\AuthController.cs:line 32
   at lambda_method176(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
[2025-03-18 15:10:47.934 +04:00] [ERR] Error: IDX12741: JWT must have three segments (JWS) or five segments (JWE). | Path: /Auth/LoginWithRefreshToken/login-refresh 
[2025-03-18 15:10:47.944 +04:00] [INF] HTTP POST /Auth/LoginWithRefreshToken/login-refresh responded 400 in 38732.7560 ms 
[2025-03-18 15:28:35.016 +04:00] [WRN] Entity 'Incident' has a global query filter defined and is the required end of a relationship with the entity 'Report'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 15:28:35.179 +04:00] [WRN] Entity 'Crime' has a global query filter defined and is the required end of a relationship with the entity 'PrisonerCrime'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 15:28:35.183 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Punishment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 15:28:35.186 +04:00] [WRN] Entity 'Prison' has a global query filter defined and is the required end of a relationship with the entity 'Staff'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 15:28:35.189 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Visit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 15:28:46.728 +04:00] [INF] HTTP POST /Auth/Login/login responded 200 in 15608.8678 ms 
[2025-03-18 15:29:22.201 +04:00] [INF] HTTP POST /Auth/Refresh/login-refresh responded 400 in 304.8165 ms 
[2025-03-18 15:29:38.413 +04:00] [INF] HTTP POST /Auth/Refresh/login-refresh responded 401 in 3886.6785 ms 
[2025-03-18 15:30:02.359 +04:00] [INF] HTTP POST /Auth/Refresh/login-refresh responded 401 in 3937.6171 ms 
[2025-03-18 15:33:02.820 +04:00] [INF] HTTP POST /Auth/Login/login responded 200 in 5992.6726 ms 
[2025-03-18 15:49:53.985 +04:00] [WRN] Entity 'Incident' has a global query filter defined and is the required end of a relationship with the entity 'Report'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 15:49:54.122 +04:00] [WRN] Entity 'Crime' has a global query filter defined and is the required end of a relationship with the entity 'PrisonerCrime'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 15:49:54.127 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Punishment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 15:49:54.131 +04:00] [WRN] Entity 'Prison' has a global query filter defined and is the required end of a relationship with the entity 'Staff'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 15:49:54.133 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Visit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 15:50:09.603 +04:00] [INF] HTTP POST /Auth/Login/login responded 200 in 19182.1836 ms 
[2025-03-18 16:09:23.733 +04:00] [WRN] Entity 'Incident' has a global query filter defined and is the required end of a relationship with the entity 'Report'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 16:09:23.886 +04:00] [WRN] Entity 'Crime' has a global query filter defined and is the required end of a relationship with the entity 'PrisonerCrime'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 16:09:23.891 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Punishment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 16:09:23.893 +04:00] [WRN] Entity 'Prison' has a global query filter defined and is the required end of a relationship with the entity 'Staff'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 16:09:23.895 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Visit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 16:09:35.094 +04:00] [INF] HTTP POST /Auth/Login/login responded 200 in 15029.2164 ms 
[2025-03-18 16:10:30.286 +04:00] [INF] HTTP POST /Auth/Refresh/login-refresh responded 401 in 5062.3182 ms 
[2025-03-18 16:22:10.448 +04:00] [WRN] Entity 'Incident' has a global query filter defined and is the required end of a relationship with the entity 'Report'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 16:22:10.602 +04:00] [WRN] Entity 'Crime' has a global query filter defined and is the required end of a relationship with the entity 'PrisonerCrime'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 16:22:10.604 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Punishment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 16:22:10.606 +04:00] [WRN] Entity 'Prison' has a global query filter defined and is the required end of a relationship with the entity 'Staff'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 16:22:10.608 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Visit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 16:22:21.322 +04:00] [INF] HTTP POST /Auth/Login/login responded 200 in 14497.4440 ms 
[2025-03-18 16:23:31.157 +04:00] [ERR] An unhandled exception has occurred while executing the request. 
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX12741: JWT must have three segments (JWS) or five segments (JWE).
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at PrisonManagementSystem.BL.Services.Implementations.Identity.TokenService.GetPrincipalFromExpiredToken(String token) in C:\Users\user\source\repos\FinalProject\PrisonManagementSystem\PrisonManagementSystem.BL\Services\Implementations\Identity\TokenService.cs:line 101
   at PrisonManagementSystem.BL.Services.Implementations.Identity.AuthService.RefreshAsync(TokenApiDto tokenApiDto) in C:\Users\user\source\repos\FinalProject\PrisonManagementSystem\PrisonManagementSystem.BL\Services\Implementations\Identity\AuthService .cs:line 194
   at PrisonManagementSystem.API.Controllers.Identitiy.AuthController.RefreshAsync(TokenApiDto tokenApiDto) in C:\Users\user\source\repos\FinalProject\PrisonManagementSystem\PrisonManagementSystem\Controllers\Identitiy\AuthController.cs:line 32
   at lambda_method313(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
[2025-03-18 16:23:31.327 +04:00] [ERR] Error: IDX12741: JWT must have three segments (JWS) or five segments (JWE). | Path: /Auth/Refresh/login-refresh 
[2025-03-18 16:23:31.341 +04:00] [INF] HTTP POST /Auth/Refresh/login-refresh responded 400 in 11269.7099 ms 
[2025-03-18 16:29:59.615 +04:00] [ERR] An unhandled exception has occurred while executing the request. 
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX12741: JWT must have three segments (JWS) or five segments (JWE).
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at PrisonManagementSystem.BL.Services.Implementations.Identity.TokenService.GetPrincipalFromExpiredToken(String token) in C:\Users\user\source\repos\FinalProject\PrisonManagementSystem\PrisonManagementSystem.BL\Services\Implementations\Identity\TokenService.cs:line 101
   at PrisonManagementSystem.BL.Services.Implementations.Identity.AuthService.RefreshAsync(TokenApiDto tokenApiDto) in C:\Users\user\source\repos\FinalProject\PrisonManagementSystem\PrisonManagementSystem.BL\Services\Implementations\Identity\AuthService .cs:line 194
   at PrisonManagementSystem.API.Controllers.Identitiy.AuthController.RefreshAsync(TokenApiDto tokenApiDto) in C:\Users\user\source\repos\FinalProject\PrisonManagementSystem\PrisonManagementSystem\Controllers\Identitiy\AuthController.cs:line 32
   at lambda_method313(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
[2025-03-18 16:29:59.637 +04:00] [ERR] Error: IDX12741: JWT must have three segments (JWS) or five segments (JWE). | Path: /Auth/Refresh/login-refresh 
[2025-03-18 16:29:59.640 +04:00] [INF] HTTP POST /Auth/Refresh/login-refresh responded 400 in 381330.9310 ms 
[2025-03-18 16:32:09.336 +04:00] [WRN] Entity 'Incident' has a global query filter defined and is the required end of a relationship with the entity 'Report'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 16:32:09.478 +04:00] [WRN] Entity 'Crime' has a global query filter defined and is the required end of a relationship with the entity 'PrisonerCrime'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 16:32:09.481 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Punishment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 16:32:09.483 +04:00] [WRN] Entity 'Prison' has a global query filter defined and is the required end of a relationship with the entity 'Staff'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 16:32:09.485 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Visit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 16:32:22.414 +04:00] [INF] HTTP POST /Auth/Login/login responded 200 in 16575.6542 ms 
[2025-03-18 16:33:00.862 +04:00] [INF] HTTP POST /Auth/Refresh/login-refresh responded 401 in 5643.3806 ms 
[2025-03-18 16:48:00.615 +04:00] [WRN] Entity 'Incident' has a global query filter defined and is the required end of a relationship with the entity 'Report'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 16:48:00.775 +04:00] [WRN] Entity 'Crime' has a global query filter defined and is the required end of a relationship with the entity 'PrisonerCrime'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 16:48:00.780 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Punishment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 16:48:00.783 +04:00] [WRN] Entity 'Prison' has a global query filter defined and is the required end of a relationship with the entity 'Staff'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 16:48:00.787 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Visit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 16:48:13.948 +04:00] [INF] HTTP POST /Auth/Login/login responded 200 in 16950.5538 ms 
[2025-03-18 16:50:28.835 +04:00] [INF] HTTP POST /Auth/Refresh/login-refresh responded 401 in 103317.8962 ms 
[2025-03-18 16:55:45.177 +04:00] [WRN] Entity 'Incident' has a global query filter defined and is the required end of a relationship with the entity 'Report'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 16:55:45.361 +04:00] [WRN] Entity 'Crime' has a global query filter defined and is the required end of a relationship with the entity 'PrisonerCrime'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 16:55:45.366 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Punishment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 16:55:45.371 +04:00] [WRN] Entity 'Prison' has a global query filter defined and is the required end of a relationship with the entity 'Staff'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 16:55:45.376 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Visit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 16:55:59.274 +04:00] [INF] HTTP POST /Auth/Login/login responded 200 in 17928.7192 ms 
[2025-03-18 16:56:38.454 +04:00] [INF] HTTP POST /Auth/Refresh/login-refresh responded 200 in 8133.1728 ms 
[2025-03-18 17:09:57.881 +04:00] [WRN] Entity 'Incident' has a global query filter defined and is the required end of a relationship with the entity 'Report'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 17:09:58.074 +04:00] [WRN] Entity 'Crime' has a global query filter defined and is the required end of a relationship with the entity 'PrisonerCrime'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 17:09:58.081 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Punishment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 17:09:58.086 +04:00] [WRN] Entity 'Prison' has a global query filter defined and is the required end of a relationship with the entity 'Staff'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 17:09:58.088 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Visit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 17:10:08.049 +04:00] [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased. 
[2025-03-18 17:10:08.055 +04:00] [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased. 
[2025-03-18 17:10:08.691 +04:00] [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
[2025-03-18 17:10:09.495 +04:00] [INF] HTTP GET /Cell/GetAllCells/GetAll responded 404 in 16576.7371 ms 
[2025-03-18 17:10:26.699 +04:00] [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased. 
[2025-03-18 17:10:26.701 +04:00] [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased. 
[2025-03-18 17:10:26.760 +04:00] [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. 
[2025-03-18 17:10:27.102 +04:00] [INF] HTTP GET /Prison/GetAllPrisons/GetAll responded 200 in 548.8839 ms 
[2025-03-18 17:10:55.882 +04:00] [INF] HTTP POST /Cell/CreateCell/Create responded 400 in 105.3827 ms 
[2025-03-18 17:11:29.674 +04:00] [INF] HTTP POST /Cell/CreateCell/Create responded 400 in 4811.1808 ms 
[2025-03-18 17:12:32.299 +04:00] [INF] HTTP POST /Cell/CreateCell/Create responded 400 in 46.8189 ms 
[2025-03-18 17:13:24.503 +04:00] [INF] HTTP POST /Cell/CreateCell/Create responded 400 in 56.5614 ms 
[2025-03-18 17:13:51.152 +04:00] [INF] HTTP POST /Cell/CreateCell/Create responded 400 in 41.9631 ms 
[2025-03-18 17:14:29.045 +04:00] [INF] HTTP POST /Cell/CreateCell/Create responded 201 in 7275.3509 ms 
[2025-03-18 17:14:46.127 +04:00] [INF] HTTP GET /Cell/GetAllCells/GetAll responded 200 in 6186.5180 ms 
[2025-03-18 17:15:03.844 +04:00] [INF] HTTP POST /Cell/CreateCell/Create responded 201 in 1834.2951 ms 
[2025-03-18 17:15:13.884 +04:00] [INF] HTTP GET /Cell/GetAllCells/GetAll responded 200 in 2021.8052 ms 
[2025-03-18 17:15:24.069 +04:00] [INF] HTTP GET /Cell/GetAllCells/GetAll responded 200 in 1852.0119 ms 
[2025-03-18 18:38:34.321 +04:00] [INF] HTTP GET /Staff/GetAllActiveStaff/GetAllActive responded 401 in 263.3195 ms 
[2025-03-18 18:42:00.447 +04:00] [WRN] Entity 'Incident' has a global query filter defined and is the required end of a relationship with the entity 'Report'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 18:42:00.676 +04:00] [WRN] Entity 'Crime' has a global query filter defined and is the required end of a relationship with the entity 'PrisonerCrime'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 18:42:00.683 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Punishment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 18:42:00.690 +04:00] [WRN] Entity 'Prison' has a global query filter defined and is the required end of a relationship with the entity 'Staff'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 18:42:00.697 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Visit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 18:42:11.219 +04:00] [INF] HTTP POST /Auth/Login/login responded 200 in 14293.1777 ms 
[2025-03-18 18:42:53.546 +04:00] [INF] HTTP POST /Auth/LogOut/logout responded 200 in 524.9673 ms 
[2025-03-18 21:05:23.695 +04:00] [WRN] Entity 'Incident' has a global query filter defined and is the required end of a relationship with the entity 'Report'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 21:05:23.845 +04:00] [WRN] Entity 'Crime' has a global query filter defined and is the required end of a relationship with the entity 'PrisonerCrime'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 21:05:23.851 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Punishment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 21:05:23.855 +04:00] [WRN] Entity 'Prison' has a global query filter defined and is the required end of a relationship with the entity 'Staff'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 21:05:23.858 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Visit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 21:05:28.610 +04:00] [INF] HTTP POST /Auth/Login/login responded 200 in 8308.0357 ms 
[2025-03-18 21:11:50.128 +04:00] [ERR] An unhandled exception has occurred while executing the request. 
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
AsyncStateMachineBox`1 -> List`1
System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[PrisonManagementSystem.DAL.Entities.PrisonDBContext.Visitor, PrisonManagementSystem.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PrisonManagementSystem.DAL.Repositories.Implementations.EntityRepositories.VisitorRepository.VisitorReadRepository+<GetAllVisitorDetailsAsync>d__6, PrisonManagementSystem.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[PrisonManagementSystem.DTOs.GetVisitorDto, PrisonManagementSystem.BL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method343(Closure , Object , List`1 , ResolutionContext )
   at PrisonManagementSystem.BL.Services.Implementations.VisitorService.GetAllVisitorsAsync() in C:\Users\user\source\repos\FinalProject\PrisonManagementSystem\PrisonManagementSystem.BL\Services\Implementations\VisitorService.cs:line 57
   at PrisonManagementSystem.API.Controllers.VisitorController.GetAllVisitors() in C:\Users\user\source\repos\FinalProject\PrisonManagementSystem\PrisonManagementSystem\Controllers\PrisonManagement\VisitorController.cs:line 19
   at lambda_method322(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
[2025-03-18 21:11:50.365 +04:00] [ERR] Error: Missing type map configuration or unsupported mapping.

Mapping types:
AsyncStateMachineBox`1 -> List`1
System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Collections.Generic.List`1[[PrisonManagementSystem.DAL.Entities.PrisonDBContext.Visitor, PrisonManagementSystem.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PrisonManagementSystem.DAL.Repositories.Implementations.EntityRepositories.VisitorRepository.VisitorReadRepository+<GetAllVisitorDetailsAsync>d__6, PrisonManagementSystem.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[PrisonManagementSystem.DTOs.GetVisitorDto, PrisonManagementSystem.BL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] | Path: /Visitor/GetAllVisitors/GetAll 
[2025-03-18 21:11:50.389 +04:00] [ERR] HTTP GET /Visitor/GetAllVisitors/GetAll responded 500 in 23981.4539 ms 
[2025-03-18 21:15:06.466 +04:00] [INF] HTTP GET /Staff/GetAllActiveStaff/GetAllActive responded 401 in 268.3456 ms 
[2025-03-18 21:15:42.693 +04:00] [INF] HTTP GET /Staff/GetAllActiveStaff/GetAllActive responded 401 in 7.0108 ms 
[2025-03-18 21:15:58.184 +04:00] [WRN] Entity 'Incident' has a global query filter defined and is the required end of a relationship with the entity 'Report'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 21:15:58.188 +04:00] [WRN] Entity 'Crime' has a global query filter defined and is the required end of a relationship with the entity 'PrisonerCrime'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 21:15:58.189 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Punishment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 21:15:58.190 +04:00] [WRN] Entity 'Prison' has a global query filter defined and is the required end of a relationship with the entity 'Staff'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 21:15:58.192 +04:00] [WRN] Entity 'Prisoner' has a global query filter defined and is the required end of a relationship with the entity 'Visit'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information. 
[2025-03-18 21:16:02.799 +04:00] [INF] HTTP POST /Auth/Login/login responded 200 in 7925.4168 ms 
[2025-03-18 21:17:20.114 +04:00] [INF] HTTP GET /Staff/GetAllActiveStaff/GetAllActive responded 403 in 247.1976 ms 
[2025-03-18 21:17:21.245 +04:00] [INF] HTTP GET /Staff/GetAllActiveStaff/GetAllActive responded 403 in 1.0988 ms 
[2025-03-18 21:17:21.504 +04:00] [INF] HTTP GET /Staff/GetAllActiveStaff/GetAllActive responded 403 in 0.6894 ms 
